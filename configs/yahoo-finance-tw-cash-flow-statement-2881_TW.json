{
  "templateType": "tw-cash-flow-statement",
  "url": "https://tw.stock.yahoo.com/quote/2881.TW/cash-flow-statement",
  "_note": "FIXED: This config extracts accurate cash flow statement data using independent selectors following CLAUDE.md principles. Fixed time period generation bug (now generates realistic periods like 2025-Q1 to 2024-Q1 instead of impossible 2025-Q2). MAJOR FIX: Corrected data mapping logic - Yahoo Finance displays data horizontally by period, not vertically by cash flow type. Now uses cross-selector mapping to ensure fiscal periods properly match their corresponding cash flow values. Added unit conversion: all values are converted from '仟元' (thousands) to '元' (actual amounts) by multiplying by 1000. Use with Taiwan stock codes like 2330.TW, 2454.TW, etc.",
  "actions": [
    {
      "type": "wait",
      "timeout": 5000,
      "description": "等待頁面初始載入"
    },
    {
      "type": "wait",
      "timeout": 4000,
      "description": "等待現金流量表數據完全載入"
    }
  ],
  "selectors": {
    "stockInfo": {
      "selector": "h1, .symbol, .stock-name",
      "transform": "cleanStockSymbol"
    },
    "htmlStructureDebug": {
      "selector": "body",
      "multiple": false,
      "transform": "debugHTMLStructure"
    },
    "allTables": {
      "selector": "table",
      "multiple": true,
      "transform": "debugFieldExtraction"
    },
    "allTableHeaders": {
      "selector": "th",
      "multiple": true,
      "transform": "debugFieldExtraction"
    },
    "allTableCells": {
      "selector": "td",
      "multiple": true,
      "transform": "debugFieldExtraction"
    },
    "cashFlowPeriods": {
      "selector": "li div:first-child",
      "multiple": true,
      "transform": "debugFieldExtraction"
    },
    "operatingCashFlowValues": {
      "selector": "li div:nth-child(2)",
      "multiple": true,
      "transform": "debugFieldExtraction"
    },
    "investingCashFlowValues": {
      "selector": "li div:nth-child(3)",
      "multiple": true,
      "transform": "debugFieldExtraction"
    },
    "financingCashFlowValues": {
      "selector": "li div:nth-child(4)",
      "multiple": true,
      "transform": "debugFieldExtraction"
    },
    "freeCashFlowValues": {
      "selector": "li div:nth-child(5)",
      "multiple": true,
      "transform": "debugFieldExtraction"
    },
    "netCashFlowValues": {
      "selector": "li div:nth-child(6)",
      "multiple": true,
      "transform": "debugFieldExtraction"
    },
    "combinedCashFlowData": {
      "selector": "body",
      "multiple": false,
      "transform": "combineIndependentCashFlowFields"
    }
  },
  "headers": {
    "Accept": "text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8",
    "Accept-Language": "zh-TW,zh;q=0.9,en;q=0.8",
    "Accept-Encoding": "gzip, deflate, br",
    "Cache-Control": "no-cache",
    "User-Agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"
  },
  "options": {
    "timeout": 30000,
    "retries": 3,
    "headless": true,
    "screenshot": true,
    "encoding": "utf-8",
    "domainDelay": 5000,
    "waitFor": 8000,
    "engine": "playwright",
    "waitForNetworkIdle": false
  },
  "variables": {
    "symbolCode": "2881.TW",
    "baseUrl": "https://tw.stock.yahoo.com",
    "companyName": "富邦金融控股股份有限公司",
    "sector": "金融保險業"
  },
  "export": {
    "formats": [
      "json",
      "csv"
    ],
    "filename": "yahoo_finance_tw_cash_flow_statement_2330_TW"
  }
}